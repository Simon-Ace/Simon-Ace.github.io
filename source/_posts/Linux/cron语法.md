---
type: blog
title: Cron语法
date: 2020-08-17
categories: 技术
tags: cron
cover: false
meta:
  date: false
---



```bash
*   *    *   *   *   *  *
秒 分钟  小时 天  月  星期 年

# -------------------
# linux crontab 只有5个
 *    *   *   *   * 
分钟  小时 天  月  星期
```

<!-- more -->



## 1 表达式详解

一个cron表达式有至少6个（也可能7个）有空格分隔的时间元素。

按顺序依次为

- 1 秒（0~59）
- 2 分钟（0~59）
- 3 小时（0~23）
- 4 天（0~31）
- 5 月（0~11）
- 6 星期（1~7 1=SUN 或 SUN，MON，TUE，WED，THU，FRI，SAT）
- 7 年份（1970－2099）

每个元素格式：

- 一个具体值（如6）
- 一个连续区间（9-12）
- 一个列表(1,3,5)

特殊字符

- 通配符（*），所有可能的值
- 空符号（？），表示不指定值
  - 由于"月份中的日期"和"星期中的日期"这两个元素互斥的,必须要对其中一个设置?
- 增量符（/）
  - 如第二位12/10 表示从第12分钟开始，每10分钟（它和“12，22，32...”）
- 最后（L）
  - 仅被用于天（月）和天（星期）两个子表达式，它是单词“last”的缩写
  - “6L”表示这个月的倒数第６天
- 平日（W）
  - 仅能用于日域中，它用来指定离指定日的最近的一个工作日（1-5）
  - 日域中的 15W 意味着 "离该月15号的最近一个平日



## 2 例子

```
0 0 10,14,16 * * ? 	 每天上午10点，下午2点，4点
0 0/30 9-17 * * ?    朝九晚五工作时间内每半小时
0 0 12 ? * WED 			 表示每个星期三中午12点
0 0 12 * * ?			 	 每天中午12点触发
0 15 10 ? * *			 	 每天上午10:15触发
0 15 10 * * ? 2005	 2005年的每天上午10:15触发
0 * 14 * * ?			   在每天下午2点到下午2:59期间的每1分钟触发
0 0/5 14,18 * * ?	 	 在每天下午2点到2:55期间和下午6点到6:55期间的每5分钟触发
0 0-5 14 * * ?			 在每天下午2点到下午2:05期间的每1分钟触发
0 10,44 14 ? 3 WED	 每年三月的星期三的下午2:10和2:44触发
0 15 10 ? * MON-FRI	 周一至周五的上午10:15触发
0 15 10 L * ?				 每月最后一日的上午10:15触发
0 15 10 ? * 6L			 每月的最后一个星期五上午10:15触发
```

